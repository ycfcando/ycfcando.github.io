## JS 执行机制

1. 是什么？
   同步为主，异步为辅的执行方式，即单线程模型事件驱动的执行机制。
2. 为什么？
   单线程模型易于理解方便调试，事件驱动模型用于处理复杂任务，规避阻塞以优化性能。

执行机制详解：

1. 通过执行栈单线程执行代码，即同步执行。
   1. 执行栈：管理函数调用，执行同步代码的机制。
2. 异步操作：计时器、网络请求、文件读取、事件机制。
   1. 计时器：setTimeout、setInterval。
   2. 网络请求：ajax、fetch。
   3. 文件读取：FileReader。
   4. 事件机制：click、keydown、mousemove 等。
   5. UI 渲染：requestAnimationFrame。
   6. DOM 操作：MutationObserver。
3. 事件驱动模型（Event Loop）处理异步操作，即将结果反馈给单线程（执行栈）的机制，以下是原理。
   1. 循环扫描：它会不断扫描执行栈，当执行栈为空时会将任务队列的任务推入执行栈。
      1. 任务队列：排队等待执行栈执行的队列。
         1. 宏任务队列：计时器，网络请求，事件机制、UI 渲染的结果队列。
         2. 微任务队列：Promise、queueMicrotask、DOM 操作的结果队列。
      2. 推入规则：以宏任务->微任务队列（清空）循环。
